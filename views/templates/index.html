{% extends "base.html" %} {% block title %}Inicio{% endblock %} {% block content
%}
<div class="row">
  <div class="col-lg-8 mx-auto text-center">
    <h1 class="display-4 mb-4">
      <i class="bi bi-shield-lock text-primary"></i> Bienvenido a Q-Sec
    </h1>
    <p class="lead text-muted mb-4">
      Simulador Interactivo del Protocolo de Criptografía Cuántica BB84
    </p>

    <div class="card shadow-sm mb-4">
      <div class="card-body">
        <h5 class="card-title">¿Qué es BB84?</h5>
        <p class="card-text text-start">
          El protocolo BB84 es un método de
          <strong>distribución cuántica de claves</strong>
          que permite a dos partes (Alice y Bob) compartir una clave secreta de
          forma segura, detectando cualquier intento de espionaje gracias a las
          leyes de la mecánica cuántica.
        </p>
      </div>
    </div>

    <div class="row g-3 mb-4">
      <div class="col-md-4">
        <div class="card h-100">
          <div class="card-body">
            <i class="bi bi-gear-fill text-primary fs-1"></i>
            <h5 class="card-title mt-2">Configura</h5>
            <p class="card-text">
              Define la longitud de la clave y si deseas incluir un espía
            </p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card h-100">
          <div class="card-body">
            <i class="bi bi-cpu text-success fs-1"></i>
            <h5 class="card-title mt-2">Simula</h5>
            <p class="card-text">Ejecuta la simulación cuántica con Qiskit</p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card h-100">
          <div class="card-body">
            <i class="bi bi-graph-up text-info fs-1"></i>
            <h5 class="card-title mt-2">Analiza</h5>
            <p class="card-text">
              Visualiza los resultados y detecta espionaje
            </p>
          </div>
        </div>
      </div>
    </div>

    {% if current_user.is_authenticated %}
    <div class="d-grid gap-2 d-md-block">
      <a href="{{ url_for('simulator') }}" class="btn btn-primary btn-lg">
        <i class="bi bi-play-circle"></i> Iniciar Simulación
      </a>
      <a
        href="{{ url_for('dashboard') }}"
        class="btn btn-outline-primary btn-lg"
      >
        <i class="bi bi-speedometer2"></i> Mi Dashboard
      </a>
    </div>
    {% else %}
    <div class="alert alert-info" role="alert">
      <i class="bi bi-info-circle"></i>
      Para usar el simulador, debes
      <a href="{{ url_for('register') }}" class="alert-link">registrarte</a> o
      <a href="{{ url_for('login') }}" class="alert-link">iniciar sesión</a>
    </div>
    {% endif %}
  </div>
</div>

<div class="row mt-5">
  <div class="col-lg-10 mx-auto">
    <hr />
    <h3 class="text-center mb-4">¿Cómo funciona el algoritmo de encriptación cuántica BB84?</h3>

    <div class="card mb-4">
      <div class="card-body">
        <p>
          El protocolo BB84, desarrollado en 1984 por Charles Bennett y Gilles Brassard, es el primer método de
          Distribución Cuántica de Claves (QKD). Su objetivo es permitir que dos partes (tradicionalmente llamadas Alice y Bob)
          compartan una clave secreta de forma segura, utilizando las propiedades fundamentales de la mecánica cuántica.
        </p>

        <p>
          A diferencia de los métodos clásicos de encriptación, que se basan en la dificultad matemática de ciertos problemas,
          el protocolo BB84 garantiza la seguridad gracias a las leyes físicas del mundo cuántico. En particular, se apoya en dos principios:
        </p>

        <ul>
          <li><strong>Principio de superposición:</strong> permite que una partícula exista en más de un estado a la vez hasta que se la mida.</li>
          <li><strong>Principio de no clonación:</strong> establece que es imposible copiar exactamente un estado cuántico desconocido.</li>
        </ul>

        <h5 class="mt-3">Etapas del protocolo BB84</h5>
        <ol>
          <li>
            <strong>Generación y envío de fotones:</strong>
            Alice genera una secuencia aleatoria de bits y, para cada bit, elige al azar una base de polarización (rectilínea o diagonal).
            Cada combinación de bit y base determina la polarización de un fotón que será enviado a Bob.
          </li>
          <li>
            <strong>Medición de fotones por Bob:</strong>
            Bob recibe los fotones y mide cada uno eligiendo también una base aleatoria. Si Bob elige la base correcta, obtiene el mismo bit que Alice;
            si elige la incorrecta, el resultado es aleatorio.
          </li>
          <li>
            <strong>Comunicación clásica y filtrado de bases:</strong>
            A través de un canal público, Alice y Bob comparan las bases usadas (sin revelar los bits) y conservan solo los bits medidos con bases coincidentes,
            formando una clave compartida preliminar.
          </li>
          <li>
            <strong>Detección de intrusos (Eve):</strong>
            Si un tercero intenta interceptar los fotones, sus mediciones alterarán los estados y producirán errores detectables. Comparando una muestra
            de bits públicamente, Alice y Bob pueden detectar la presencia de un espía.
          </li>
          <li>
            <strong>Corrección y refinamiento de la clave:</strong>
            Si no se detectan intrusos, se aplican procesos de corrección de errores y privacidad amplificada para generar una clave final segura,
            que luego puede usarse con algoritmos clásicos de cifrado.
          </li>
        </ol>
      </div>
    </div>
  </div>
</div>

<!-- Video explicativo -->
<div class="card shadow-sm mb-4">
  <div class="card-body">
    <div class="ratio ratio-16x9">
      <iframe 
        width="560" 
        height="315" 
        src="https://www.youtube.com/embed/7R7dnT2043M?si=63FiQFKD2lykFMWu" 
        title="YouTube video player" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
        referrerpolicy="strict-origin-when-cross-origin" 
        allowfullscreen>
      </iframe>
    </div>
  </div>
</div>

<!-- Sección informativa adicional -->
<div class="row mt-5">
  <div class="col-lg-10 mx-auto">
    <hr />
    <h3 class="text-center mb-4">Características del Simulador</h3>
    <div class="row g-4">
      <div class="col-md-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">
              <i class="bi bi-lock-fill text-success"></i> Seguridad Cuántica
            </h5>
            <p class="card-text">
              Simula la transmisión de qubits y la detección automática de
              espionaje mediante el cálculo de la tasa de error cuántico (QBER).
            </p>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">
              <i class="bi bi-bookmark-star-fill text-warning"></i> Historial
              Completo
            </h5>
            <p class="card-text">
              Guarda todas tus simulaciones para poder revisarlas más tarde y
              analizar diferentes escenarios de criptografía cuántica.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
